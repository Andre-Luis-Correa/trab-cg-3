<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Menu</title>
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.4/dist/aframe-environment-component.min.js"></script>
</head>
<body>
    <script>
        AFRAME.registerComponent('menu-jogo', {
            schema: { url: { type: 'string' }, label: { type: 'string' } },
            init() {
                const el = this.el;

                el.addEventListener('raycaster-intersected', () => {
                    el.setAttribute('scale', '1.1 1.1 1.1');
                    el.setAttribute('material', 'emissive: white; emissiveIntensity: 0.25');
                });
                el.addEventListener('raycaster-intersected-cleared', () => {
                    el.setAttribute('scale', '1 1 1');
                    el.removeAttribute('material');
                    el.setAttribute('color', el.getAttribute('color'));
                });

                el.addEventListener('click', () => {
                    window.location.href = this.data.url;
                });
            }
        });

        window.addEventListener('load', () => {
            const sceneEl = document.querySelector('a-scene');
            const cursorEl = document.querySelector('#cursor');
            sceneEl.addEventListener('enter-vr', () => {
                cursorEl.setAttribute('visible', 'false');
                cursorEl.setAttribute('raycaster', 'enabled: false');
            });
            sceneEl.addEventListener('exit-vr', () => {
                cursorEl.setAttribute('visible', 'true');
                cursorEl.setAttribute('raycaster', 'enabled: true');
            });
        });
    </script>

    <a-scene>
        <a-entity environment="preset: forest; lighting: none"></a-entity>
        <a-light type="ambient" color="#BBB" intensity="0.8"></a-light>
        <a-light type="directional" color="#FFF" intensity="0.6" position="-1 4 2"></a-light>

        <a-entity id="rig">
            <a-camera position="0 1.6 0">
                <a-cursor id="cursor" raycaster="objects: .clickable" material="color: white; shader: flat"></a-cursor>
            </a-camera>
            <a-entity laser-controls="hand: left"  raycaster="objects: .clickable; far: 10"></a-entity>
            <a-entity laser-controls="hand: right" raycaster="objects: .clickable; far: 10"></a-entity>
        </a-entity>

        <a-box position="0 4.1 -4" width="7" height="1.4" depth="0.1" color="#111" opacity="0.9"></a-box>
        <a-text value="Menu" position="0 4.3 -3.94" align="center" width="8" color="#FFD700"></a-text>
        <a-text value="Escolha um jogo para comecar" position="0 3.9 -3.94" align="center" width="6" color="#ccc"></a-text>

        <a-entity position="-1.8 1.2 -4">
            <a-box width="2.8" height="4.0" depth="0.12" color="#1a1a2e" opacity="0.95"></a-box>

            <a-sphere radius="0.2" position="0 1.5 0.1" color="#1c52bd"></a-sphere>
            <a-sphere radius="0.2" position="0.3 1.35 0.15" color="#fad502"></a-sphere>
            <a-sphere radius="0.2" position="-0.3 1.25 0.15" color="#fa1302"></a-sphere>

            <a-text value="MESTRE DAS CORES" position="0 0.7 0.07" align="center" width="5" color="#FFD700"></a-text>
            <a-text value="Misture cores primÃ¡rias\npara criar novas cores!\nUse o laser para clicar." 
                    position="0 0 0.07" align="center" width="4.5" color="#ddd" line-height="55"></a-text>

            <a-box class="clickable"
                   menu-jogo="url: mestre_cores.html; label: Mestre das Cores"
                   position="0 -0.85 0.08"
                   width="2.2" height="0.45" depth="0.1"
                   color="#8e44ad">
                <a-text value="JOGAR" align="center" position="0 0 0.06" width="4.5" color="white"></a-text>
            </a-box>
        </a-entity>

        <a-entity position="1.8 1.2 -4">
            <a-box width="2.8" height="4.0" depth="0.12" color="#0d2137" opacity="0.95"></a-box>

            <a-box position="-0.3 1.35 0.15" width="0.35" height="0.35" depth="0.35" color="#e67e22"
                   animation="property: rotation; to: 45 360 45; loop: true; dur: 3000; easing: linear">
            </a-box>
            <a-sphere radius="0.2" position="0.1 1.35 0.18" color="#9b59b6"></a-sphere>
            <a-cone radius-bottom="0.2" height="0.35" position="0.45 1.35 0.15" color="#2ecc71"></a-cone>

            <a-text value="GEOMETRIA VR" position="0 0.7 0.07" align="center" width="5" color="#00cfff"></a-text>
            <a-text value="Agarre as formas com\no laser e coloque-as\ndentro do balde!" 
                    position="0 0 0.07" align="center" width="4.5" color="#ddd" line-height="55"></a-text>

            <a-box class="clickable"
                   menu-jogo="url: geometria_vr.html; label: Geometria VR"
                   position="0 -0.85 0.08"
                   width="2.2" height="0.45" depth="0.1"
                   color="#2980b9">
                <a-text value="JOGAR" align="center" position="0 0 0.06" width="4.5" color="white"></a-text>
            </a-box>
        </a-entity>

        <a-ring color="#FFD700" radius-inner="0.4" radius-outer="0.45"
                position="0 0.01 0" rotation="-90 0 0"
                animation="property: rotation; to: -90 0 360; loop: true; dur: 8000; easing: linear">
        </a-ring>

    </a-scene>
</body>
</html>
